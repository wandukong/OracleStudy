
# ë³€ìˆ˜ ë° ì—°ì‚°ì

## ğŸ ë³€ìˆ˜
- ë³€ìˆ˜ ì„ ì–¸ì˜ ê²½ìš° anonymous blockì€ DECLARE ì ˆì—ì„œ ì„ ì–¸
- íŒ¨í‚¤ì§€, í”„ë¡œì‹œì €, í•¨ìˆ˜ëŠ” IS ì ˆì—ì„œ ì„ ì–¸ë˜ë©° defaultê¹Œì§€ ì„¤ì • ê°€ëŠ¥ 
- ë³€ìˆ˜ íƒ€ì…ì„ ì„¤ì •í•  ë•Œì—ëŠ” ì˜¬ë°”ë¥¸ ë°ì´í„° íƒ€ì…ì„ ì„ ì •í•´ ì‚¬ìš©í•´ì•¼ í•˜ë©° í¬ê¸°ë„ ì ì •í•˜ê²Œ ì„¤ì •í•´ì•¼ í•œë‹¤.
	- í¬ê¸°ë¥¼ ë„ˆë¬´ ì‘ê²Œ ì„¤ì •í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒ
	- í¬ê²Œ ì„¤ì •í•˜ë©´ ë©”ëª¨ë¦¬ ë‚­ë¹„ ë°œìƒ

```sql
DECLARE
    username varchar2(20);
    address varchar2(5);
BEGIN
    username:= 'scott'; 
    address:='seoul';
    dbms_output.put_line('ì´ë¦„: ' || username);
    dbms_output.put_line('ì£¼ì†Œ: ' || address);
END;
/
```

### ë³€ìˆ˜ ìœ íš¨ ë²”ìœ„

```sql
DECLARE
    current_block VARCHAR2 (10) := 'Outer'; 
    outer_block VARCHAR2 (10) := 'Outer';
BEGIN
    dbms_output.put_line ('[current block][' || current_block||']'); -- Outer
DECLARE
    current_block VARCHAR2 (10) := 'Inner';
    BEGIN
        dbms_output.put_line ('[current block]['||current_block||']'); -- Inner
        dbms_output.put_line ('[outer block]['||outer_block||']');  -- Outer
    END;
    dbms_output.put_line ('[current block]['||current_block||']'); -- Outer
END;
/

-- ë™ì¼í•œ ì´ë¦„ì˜ ë³€ìˆ˜ v_numì´ ë‘ ê³³ì—ì„œ ì„ ì–¸ë˜ì—ˆëŠ”ë°,
-- ë‘ ê°œì˜ ë³€ìˆ˜ v_numì€ ì„œë¡œ ë‹¤ë¥¸ ìœ íš¨ë²”ìœ„ë¥¼ ê°€ì§€ëŠ” ë³„ê°œì˜ ë³€ìˆ˜ë¡œ ì¸ì‹ëœë‹¤
DECLARE -- 
  v_num NUMBER := 0;
BEGIN
  DECLARE 
    v_num NUMBER ; 
  BEGIN
    v_num := 4 ; 
    DBMS_OUTPUT.PUT_LINE(v_num);
  END ;
  v_num := v_num + 1 ; -- 0+1 = 1
  DBMS_OUTPUT.PUT_LINE(v_num);
END ;
/
```


## ğŸ“œ ì°¸ì¡° ë³€ìˆ˜

### %TYPE
```sql
V_EMPNO EMP.empno%type; -- -- emp í…Œì´ë¸”ì˜ empno ì»¬ëŸ¼ì„ ì €ì¥
```
â€¢  %TYPE ë°ì´í„°í˜•ì€ ê¸°ìˆ í•œ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ë°ì´í„° íƒ€ì…ì„ ëª¨ë¥¼ ê²½ìš° ì‚¬ìš©
â€¢ ì½”ë”© ì´í›„ ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ì˜ ë°ì´í„° íƒ€ì…ì´ ë³€ê²½ë  ê²½ìš° ë‹¤ì‹œ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
â€¢ ì´ë¯¸ ì„ ì–¸ëœ ë‹¤ë¥¸ ë³€ìˆ˜ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ì˜ ë°ì´í„° íƒ€ì…ì„ ì´ìš©í•˜ì—¬ ì„ ì–¸

```sql
DECLARE
    V_EMPNO EMP.empno%type;
    V_ENAME EMP.ename%type;

BEGIN
    SELECT EMPNO, ENAME
      INTO V_EMPNO, V_ENAME
      FROM EMP
    WHERE EMPNO = 7900;
    
    DBMS_OUTPUT.PUT_LINE(V_EMPNO || ' ' || V_ENAME);
END;
/

DECLARE
  v_empno  emp.empno%TYPE;
  v_ename  emp.ename%TYPE;
  v_deptno emp.deptno%TYPE;
BEGIN
  v_empno  := 9000;
  v_ename  := 'í™ê¸¸ë™';
  v_deptno := 30;

  INSERT 
    INTO emp(empno, ename, hiredate, deptno)
  VALUES (v_empno, v_ename, SYSDATE, v_deptno) ; -- PL/SQL ë³€ìˆ˜ ì‚¬ìš©
  DBMS_OUTPUT.PUT_LINE('INSERT ê±´ìˆ˜: '||SQL%ROWCOUNT) ;   -- ë³€ê²½ëœ ê±´ìˆ˜ ì¶œë ¥
  COMMIT ;
END ;
/
```

### %ROWTYPE
**í…Œì´ë¸” ë˜ëŠ” ì»¤ì„œì˜ rowì™€ ë™ì¼í•œ êµ¬ì¡°ë¥¼ ê°€ì§€ëŠ” recordë¥¼ ì§€ì •**
```sql
v_row emp%ROWTYPE -- emp í…Œì´ë¸”ì˜ ì—¬ëŸ¬ ì»¬ëŸ¼ì„ í•œêº¼ë²ˆì— ì €ì¥
```

```sql
DECLARE
  v_emprec emp%ROWTYPE;  -- ë ˆì½”ë“œ ë³€ìˆ˜
BEGIN
  v_emprec.empno    := 9000;
  v_emprec.ename    := 'í™ê¸¸ë™';
  v_emprec.deptno   := 30;
  v_emprec.hiredate := SYSDATE;
  
  INSERT INTO emp VALUES v_emprec;
  DBMS_OUTPUT.PUT_LINE('INSERT ê±´ìˆ˜: '||SQL%ROWCOUNT) ;
  COMMIT ;
END;
```


## ğŸ§® ì—°ì‚°ì

### ëŒ€ì…ì—°ì‚°ì(:=)
```sql
DECLARE
	x NUMBER NOT NULL:=0; 
BEGIN
    x := 100; -- ëŒ€ì…ì—°ì‚°ì := 
    dbms_output.put_line(x);
 END;
```