
# í•¨ìˆ˜

## ğŸ‘¶ì§‘ê³„ í•¨ìˆ˜

**sum(ì»¬ëŸ¼ëª…)** : í•©
```sql
select sum(pay) ê¸‰ì—¬í•© from professor;
```
<hr />

**max(ì»¬ëŸ¼ëª…)** : ìµœëŒ€ê°’
<hr />

**min(ì»¬ëŸ¼ëª…)** : ìµœì†Œê°’
<hr />

**count(ì»¬ëŸ¼ëª…)** : í•´ë‹¹ ì¹¼ëŸ¼ ë ˆì½”ë“œ ê°œìˆ˜ 
- ì´ ë ˆì½”ë“œìˆ˜(null ê°’ ì œì™¸)
```sql
select count(bonus), count(pay) from professor;  -- bonus: 10, pay :16 (bonus ì—†ëŠ” ì‚¬ëŒ ì¡´ì¬)
```
<hr />

**count(*)** : ì´ ë ˆì½”ë“œ ìˆ˜
- nullì„ í¬í•¨í•œ ì´ ë ˆì½”ë“œìˆ˜
<hr />

**avg(ì»¬ëŸ¼ëª…)** : í‰ê· 
- null ê°’ì€ ì œì™¸í•˜ê³  ë‚˜ëˆ”
- null í¬í•¨í•  ì‹œ, nvl() ì‚¬ìš©
```sql
select count(*), count(bonus), sum(bonus), avg(bonus) from professor; -- 16 10 780 78
select count(*), count(nvl(bonus,0)), sum(bonus), avg(nvl(bonus,0)) from professor; -- 16 16 780 48.75
```
<hr />

**rank** : ìˆœìœ„
- oracleì€ nullì˜ ìš°ì„ ìˆœìœ„ê°€ ê°€ì¥ ë†’ìŒ , null í¬í•¨ ì‹œ rankí•¨ìˆ˜ ê²°ê³¼ê°€ ì´ìƒí•¨.
```sql
select rank(600001) within group(order by g_start desc) 
from gift; -- 5

select rank(600001) within group(order by g_start desc) 
from gift where g_start is not null; -- 4
```
	


## ğŸ§‘ìˆ«ì í•¨ìˆ˜
**round(ìˆ«ì, ìë¦¿ìˆ˜)** : ë°˜ì˜¬ë¦¼
```sql
select round(12.3456789,2), round(12.3436789,2), round(12.7456789,0), round(12.3456789,0) from dual; 
-- 12.35 12.34 13 12
```
<hr />

**ceil(ìˆ«ì)** : ì˜¬ë¦¼
- ì •ìˆ˜ ë°˜í™˜ 
```sql
select ceil(12.34), ceil(-12.34) from dual; -- 13 -12
```
<hr />

**floor(ìˆ«ì)** : ë‚´ë¦¼
- ì •ìˆ˜ ë°˜í™˜ 
```sql
select floor(12.34), floor(-12.34) from dual; -- 12 -13
```
<hr />

**trunc(ìˆ«ì, ìë¦¿ìˆ˜)** : ë²„ë¦¼
-  ëˆˆì— ë³´ì´ëŠ” ëŒ€ë¡œ ìˆ«ìë¥¼ ìë¦„ 
```sql
select trunc(12.34), trunc(-12.34), trunc(-12.345,2), trunc(-12.343,2) from dual; -- 12	-12	-12.34	-12.34
```
<hr />

**mod(ìˆ«ì, ë‚˜ëˆŒìˆ˜)** : ë‚˜ë¨¸ì§€ ì—°ì‚°
```sql
select mod(7,2) from dual; -- 1
```
<hr />

**power(ëŒ€ìƒìˆ«ì, ì œê³±ìˆ«ì)** : ì œê³±
```sql
select power(3,2) from dual; -- 9
```
<hr />

## ğŸ‘¨ë¬¸ìì—´ í•¨ìˆ˜
**upper(ë¬¸ìì—´)** : ëŒ€ë¬¸ìë¡œ ë³€í™˜
<hr />

**lower(ë¬¸ìì—´)** : ì†Œë¬¸ìë¡œ ë³€í™˜
<hr />

**initcap(ë¬¸ìì—´)** : ì²« ê¸€ìë§Œ ëŒ€ë¬¸ìë¡œ ë³€í™˜
<hr />

**length(ë¬¸ìì—´)** : ë¬¸ìì—´ì˜ ê¸¸ì´
<hr />

**lengthb(ë¬¸ìì—´)** : ë¬¸ìì—´ byte ê¸¸ì´
- í•œê¸€ 1ê¸€ìë¥¼ 3byteë¡œ ì¸ì‹
```sql
select dname, length(dname), lengthb(dname) from dept2; -- ì‚¬ì¥ì‹¤ 3 9
```
<hr />

**substr(ë¬¸ìì—´, ì‹œì‘[,ê°œìˆ˜])** : ë¶€ë¶„ ë¬¸ìì—´ 
```sql
select substr('1234567890',3) from dual; -- 34567890
select substr('1234567890',3, 2) from dual; -- 34
```
<hr />

**instr(ë¬¸ìì—´, ì°¾ì„ ë¬¸ìì—´[,ì‹œì‘ë²ˆì§€ìˆ˜])** : ë¬¸ìì—´ ì°¾ì€ í›„ ì¸ë±ìŠ¤ ë°˜í™˜
-  ë¬¸ìì—´ì—ì„œ í•´ë‹¹ ë¬¸ìì˜ ìœ„ì¹˜ë¥¼ ì°¾ì•„ì¤€ë‹¤.
- ì‹œì‘ ë²ˆì§€ìˆ˜ê°€ -1(ìŒìˆ˜)ì´ë©´ ë’¤ì—ì„œë¶€í„° ì°¾ëŠ”ë‹¤ .
- ëª» ì°¾ìœ¼ë©´ 0
```sql
select instr('abcd','b') from dual; -- 2 
select instr('absdboy','b', -1) from dual; -- 5 
```
<hr />

**replace(ì»¬ëŸ¼ëª…, ì°¾ì„ë¬¸ìì—´, ë³€í™˜ë¬¸ìì—´)** : ë¬¸ìì—´ ì°¾ì€ í›„ ë¬¸ìì—´ êµì²´

```sql
select replace(name, substr(name,2,1), '#') from student; -- ì´ë¦„ ê°€ìš´ë° ê¸€ì #ìœ¼ë¡œ êµì²´
```
<hr />

**lpad(ë¬¸ìì—´, ì „ì²´ìë¦¬ìˆ˜, íŠ¹ì •ë¬¸ì)** :  ì „ì²´ ìë¦¬ìˆ˜ì—ì„œ ë‚˜ë¨¸ì§€ ì™¼ìª½ ê³µê°„ì„ íŠ¹ì •ë¬¸ìë¡œ ì±„ì›€
```sql
select lpad('abcd',7,'#') from dual; -- ###abcd
```
<hr />

**rpad(ë¬¸ìì—´, ì „ì²´ìë¦¬ìˆ˜, íŠ¹ì •ë¬¸ì)** :  ì „ì²´ ìë¦¬ìˆ˜ì—ì„œ ë‚˜ë¨¸ì§€ ì˜¤ë¥¸ìª½ ê³µê°„ì„ íŠ¹ì •ë¬¸ìë¡œ ì±„ì›€
```sql
select rpad('abcd',7,'#') from dual; -- abcd###
```
<hr />

**ltrim(ë¬¸ìì—´)** : ì™¼ìª½ ê³µë°± ì œê±° 
```sql
select '  ê°€ë‚˜ë‹¤ë¼  ', ltrim(' ê°€ë‚˜ë‹¤ë¼  '), length(ltrim(' ê°€ë‚˜ë‹¤ë¼  ')) from dual; 
-- '  ê°€ë‚˜ë‹¤ë¼  ' 'ê°€ë‚˜ë‹¤ë¼  '	6 
```
<hr />

**rtrim(ë¬¸ìì—´)** : ì˜¤ë¥¸ìª½ ê³µë°± ì œê±° 
```sql
select '  ê°€ë‚˜ë‹¤ë¼  ', rtrim(' ê°€ë‚˜ë‹¤ë¼  '), length(rtrim(' ê°€ë‚˜ë‹¤ë¼  ')) from dual; 
-- '  ê°€ë‚˜ë‹¤ë¼  ' '  ê°€ë‚˜ë‹¤ë¼' 6 
```
<hr />

## ğŸ‘´ë‚ ì§œ í•¨ìˆ˜
**sysdate** : í˜„ì¬ ë‚ ì§œ
<hr />

**month_between(ë‚ ì§œ, ë‚ ì§œ)** : ë‘ ë‚ ì§œ ì‚¬ì´ì˜ ê°œì›” ìˆ˜
```sql
select months_between(to_date('12-20-2018', 'mm-dd-yyyy'),
					to_date('12-2-2017', 'mm-dd-yyyy')) months from dual; -- 12
```
<hr />

**add_months(ë‚ ì§œ, ìˆ«ì)** : í•´ë‹¹ ë‚ ì§œì—ì„œ ìˆ«ìë§Œí¼ ì›”ì„ ë”í•œ ë‚ ì§œ
```sql
select next_day('2021/08/09',2) "ë‹¤ìŒì£¼ ì›”ìš”ì¼" from dual; -- 21/08/16 
```
<hr />

**next_day(ë‚ ì§œ, ìš”ì¼)** :í•´ë‹¹ ë‚ ì§œì—ì„œ ë‹¤ìŒ ìš”ì¼ì˜ ë‚ ì§œ
- 1: ì¼ìš”ì¼, 2: ì›”ìš”ì¼, ..., 7: í† ìš”ì¼
```sql
select next_day('2021/08/09',2) "ë‹¤ìŒì£¼ ì›”ìš”ì¼" from dual; -- 21/08/16 
```
<hr />


**last_day(ë‚ ì§œ)** : í•´ë‹¹ ë‚ ì§œ ë‹¬ì˜ ë§ì¼
```sql
select sysdate, last_day(sysdate) "last day", last_day(sysdate)- sysdate "ë§ì¼ê¹Œì§€ ë‚¨ì€ ë‚ ì§œ" from dual; 
-- 21/08/09	21/08/31 22
```
<hr />

**to_date(ë¬¸ìì—´)** : ë¬¸ìì—´ì„ ë‚ ì§œë¡œ ë³€í™˜
```sql
select to_date('12-20-2018', 'mm-dd-yyyy') from dual; -- 18/12/20
```
<hr />

**to_char(ë‚ ì§œ, í˜•ì‹)** : ë‚ ì§œë¥¼ í•´ë‹¹ ë‚ ì§œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
```sql
select to_char(sysdate, 'yyyy-mm-dd hh:mi:ss') from dual; -- 2021-08-09 06:56:19
```
<hr />

**ë…„/ì›”/ì¼ ì¶”ì¶œí•˜ê¸°**
```sql
extract(year from cast(ì»¬ëŸ¼ëª… as date))  -- ë…„
extract(month from cast(ì»¬ëŸ¼ëª… as date)) -- ì›”
extract(day from cast(ì»¬ëŸ¼ëª… as date)) -- ì¼
```
<hr />

**ë…„/ì›”/ì¼ ì¶”ì¶œí•˜ê¸°**
```sql
extract(hour from cast(ì»¬ëŸ¼ëª… as timestamp))  -- ì‹œ
extract(minute from cast(ì»¬ëŸ¼ëª… as timestamp)) -- ë¶„
extract(second from cast(ì»¬ëŸ¼ëª… as timestamp)) -- ì´ˆ
```

## ğŸ‘¼ì„ íƒë¬¸
> ì¡°ê±´ì„ ì£¼ì–´, ì¡°ê±´ì— ë”°ë¼ ì‹¤í–‰ ë¬¸ì¥ì„ ë‹¤ë¥´ê²Œ í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜

**decode**
```sql
decode(ëŒ€ìƒ,
           ê°’, ë¬¸ì¥,
           ê°’, ë¬¸ì¥,
           ê°’, ë¬¸ì¥,
           ê¸°íƒ€)
```
```sql
select deptno, decode(deptno, 101, 'ì»´í“¨í„°ê³µí•™ê³¼', 
                                102, 'ë©€í‹°ë¯¸ë””ì–´ê³µí•™ê³¼',
                                201, 'ì „ìê³µí•™ê³¼',
                                300, 'ì¸ë¬¸ì‚¬íšŒí•™ë¶€',
                                'ê¸°íƒ€ í•™ê³¼') í•™ê³¼
from department; 
```
```sql
select ename, decode(comm, null,'no commision', comm) from emp;
```
<hr />

**case**
```sql
case when ì¡°ê±´1 then ë¬¸ì¥
	 when ì¡°ê±´2 then ë¬¸ì¥
	 when ì¡°ê±´3 then ë¬¸ì¥
	 else ë¬¸ì¥ 
end
```
```sql
select deptno, case when deptno=101 then 'ì»´í“¨í„°ê³µí•™ê³¼'
                    when deptno=102 then 'ë©€í‹°ë¯¸ë””ì–´ê³µí•™ê³¼'
                    when deptno=201 then 'ì „ìê³µí•™ê³¼'
                    when deptno=300 then 'ì¸ë¬¸ì‚¬íšŒí•™ë¶€'
                    else 'ê¸°íƒ€ í•™ê³¼' 
                end í•™ê³¼
from department;
```

## ğŸ…ê¸°íƒ€ í•¨ìˆ˜
**to_char(ë°ì´í„°)** : ë¬¸ìì—´ë¡œ ë³€í™˜
```sql
select ename, nvl(to_char(comm),'no commision') from emp;
```
<hr />

**cast(ë°ì´í„° as ìë£Œí˜•)** : ë°ì´í„°ì˜ ìë£Œí˜• ë³€í™˜
```sql
select ename, nvl(cast(comm as varchar2(20)),'no commision') from emp;
select ename, case when cast(comm as varchar2(20)) is null then 'no commision' 
				        else cast(comm as varchar2(20)) 
			  end comm 
from emp;
```
<hr />

**to_char(pay, 'L999,999,999')** : ì²œë‹¨ìœ„êµ¬ë¶„ê¸°í˜¸ 
- to_char(pay, 'L999,999,999') : ì§€ì—­ì— ë”°ë¥¸ í™”í˜í‘œì‹œ
- to_char(pay, '$999,999') : ë‹¬ëŸ¬ í‘œì‹œ
```sql
select name, position, to_char(pay, 'L999,999,999') "ê¸‰ì—¬(1000)"
from emp2 
where pay > (select min(pay) from emp2 where position = 'ê³¼ì¥');
```
