# Partioning

- 테이블 파티셔닝은 테이블 데이터를 일정 기준으로 나누어 저장하는것
- 테이블을 파티셔닝하면 논리적으로는 테이블로 접근하지만, **물리적으로는 테이블 내의 각각의 파티션으로 접근한다.**
- 가나다 순으로 분류하는 것이 단일 테이블에서 인덱스를 사용하는 것이라면, **데이터베이스라는 분류에서 오라클이라는 세부 분류로 구분하는 것**은 파티션 테이블을 사용한 것의 예로 볼 수 있다.
- 범위를 줄여 원하는 데이터가 위치한 파티션만 읽도록 한다.
	- 전체 테이블 데이터를 모두 읽지 않아 뛰어는 성능 기대
- 관리 관점에서도 많은 데이터를 보관하다가 데이터를 삭제하려고 할때 **해당 파티션**만 지우면 된다.
- 데이터를 파티션 단위로 보관하기 때문에 추가, 삭제, 변경을 매우 빠르고 쉽게 할 수 있다.
	- DELETE 구문을 사용하는 것과 단순히 파티션을 드롭하는 것은 수행 속도뿐 아니라 그와 관련한 여러 관리 측면에서도 이점이 존재

## 🌽종류

### Range 파티션
- 가장 일반적
- 딱히 나눌 기준이 모호할 때, 주로 쌓이는 날짜를 기준으로 파티션
- 파티션 키 컬럼을 정하기 매우 쉽다는 장점
- 'LESS THAN' 안의 값을 포함하지 않는다.
- 파티션 키 컬럼의 값이 범위를 가지고 있다.
	- 연속성이 있는 데이터를 갖는 특징이 있기 때문에, 파티션 키 컬럼을 가지고 **부등호 연산**이나 **BETWEEN 연산**을 했을 경우 해당 파티션 몇개만 읽을 수 있다.
	- ```WEHRE ORD_DT BETWEEN '120115' AND '120125' → 1월 파티션만 읽어 처리```
```sql
CREATE TABLE ORD_RANGE(
	...
	, ORD_DT VARCHAR2(8) NOT NULL
)
PARTITION BY RANGE(ORD_DT)
(
	PARTION P201201 VALUES LESS THAN ('201202') -- 20년 12월 1일 데이터
	, PARTION P201202 VALUES LESS THAN ('201203')
	...
	, PARTION P_DEFAULT VALUES LESS THAN (MAXVALUE)
);

-- P_DEFAULT 파티션에 MAXVALUE 값으로 만들어 두면, 
-- 파티션을 추가해야하지만 미처 못했을 경우 에러가 나는 상황을 방지하고자 할 때 사용한다.
-- 마지막 파티션 값보다 큰경우의 데이터를 담을 수 있다.
```

### LIST 파티션
- 키 컬럼의 값이 설정한 값과 일치할 경우에 사용
- 